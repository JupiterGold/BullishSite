(self.webpackChunkjson_bot_ui=self.webpackChunkjson_bot_ui||[]).push([[4625],{14625:function(t,o,e){"use strict";e.r(o),e.d(o,{BotListPageModule:function(){return m}});var i=e(61116),n=e(11462),c=e(42693),s=e(96611),r=e(2782),a=e(64762),g=e(8619),l=e(6907),h=e(91779),u=e(63750);function d(t,o){if(1&t&&(g.TgZ(0,"option",10),g._uU(1),g.qZA()),2&t){const t=o.$implicit,e=g.oxw();g.Q6J("selected",t===e.selectedExchange)("value",t),g.xp6(1),g.hij(" ",t," ")}}function p(t,o){if(1&t){const t=g.EpF();g.TgZ(0,"ion-col",11),g._UZ(1,"hr"),g.TgZ(2,"ion-card"),g.TgZ(3,"ion-card-content"),g.TgZ(4,"ion-card-subtitle"),g._UZ(5,"img",12),g.TgZ(6,"ion-toggle",13),g.NdJ("click",function(){const o=g.CHM(t).$implicit,e=g.oxw();return o.Enabled=!o.Enabled,e.onEnableDisableBot(o)}),g.qZA(),g.qZA(),g.TgZ(7,"ion-row",14),g.NdJ("click",function(){const o=g.CHM(t).$implicit;return g.oxw().onEditBot(o)}),g.TgZ(8,"ion-col"),g._uU(9),g.qZA(),g.TgZ(10,"ion-col",15),g._uU(11),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()}if(2&t){const t=o.$implicit,e=g.oxw();g.Q6J("size",12),g.xp6(5),g.Q6J("src",e.getLogo(t),g.LSH),g.xp6(1),g.s9C("checked",t.Enabled),g.xp6(3),g.lnq("",t.A,"/",t.B," [",t.Strategy,"]"),g.xp6(2),g.hij(" Invest ",t.$," ")}}const f=[{path:"",component:(()=>{class t{constructor(t,o,e,i,n){this.http=t,this.oAPIService=o,this.router=e,this.oStorage=i,this.auth=n,this.userExchanges=["kucoin","lbank","aax"],this.selectedExchange=this.userExchanges[0],this.oBotList=[],this.bRemote=!0}ngOnInit(){}onLogout(){return(0,a.mG)(this,void 0,void 0,function*(){this.auth.logout(),yield this.router.navigateByUrl("")})}onCreateBot(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("bot-strategy")})}onEditBot(t){return(0,a.mG)(this,void 0,void 0,function*(){yield this.router.navigateByUrl("bot-setup",{state:t})})}onEnableDisableBot(t){return(0,a.mG)(this,void 0,void 0,function*(){this.oStorage.set(t.Exchange+"_"+t.Strategy+"_"+t.A+t.B,t),this.bRemote&&(yield this.oAPIService.send2ServerP("bot-config",!0,t)),this.ionViewWillEnter()})}ionViewWillEnter(){this.bRemote?this.onChangeOfExchange(this.selectedExchange):this.oStorage.getBots().then(t=>{this.oBotList=t})}onChangeOfExchange(t){console.log(t),this.oAPIService.send2ServerP("exchange-bot-config/"+t,!1).then(t=>(0,a.mG)(this,void 0,void 0,function*(){this.oBotList=t}))}onSearchCryptoPair(t){var o;console.log(t),this.oAPIService.send2ServerP("cryptopair-bot-config/"+(null===(o=t.target)||void 0===o?void 0:o.value),!1).then(t=>(0,a.mG)(this,void 0,void 0,function*(){console.log(t),this.oBotList=t}))}getLogo(t){let o=t.Exchange;return"aax"==o?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA-cjwYdOQkpnvfr2gygRlocp8Od5R1LzmFRe3FSiW7u4VTppf":"kucoin"==o?"https://assets.staticimg.com/cms/media/1lB3PkckFDyfxz6VudCEACBeRRBi6sQQ7DDjz0yWM.svg":"lbank"==o?"https://www.lbank.info/fstatic/img/logo-03.svg":""}}return t.\u0275fac=function(o){return new(o||t)(g.Y36(c.eN),g.Y36(l.D),g.Y36(r.F0),g.Y36(h.V),g.Y36(u.$))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-bot-list"]],decls:15,vars:2,consts:[["color","dark"],[1,"ion-text-capitalize"],["slot","end"],["type","text",3,"change"],["id","DropdownOptions",1,"form-control",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],["name","add",3,"click"],["name","exit",3,"click"],["fixed",""],["size-sm","6","size-md","4","size-lg","4",3,"size",4,"ngFor","ngForOf"],[3,"selected","value"],["size-sm","6","size-md","4","size-lg","4",3,"size"],["width","48","height","32",1,"card-img",3,"src"],[2,"float","right",3,"checked","click"],[3,"click"],["ion-align-items-end",""]],template:function(t,o){1&t&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-title",1),g._uU(3,"Botsv1.0"),g.qZA(),g.TgZ(4,"ion-buttons",2),g.TgZ(5,"input",3),g.NdJ("change",function(t){return o.onSearchCryptoPair(t)}),g.qZA(),g.TgZ(6,"select",4),g.NdJ("change",function(t){return o.onChangeOfExchange(t)}),g.YNc(7,d,2,3,"option",5),g.qZA(),g.TgZ(8,"ion-icon",6),g.NdJ("click",function(){return o.onCreateBot()}),g.qZA(),g.TgZ(9,"ion-icon",7),g.NdJ("click",function(){return o.onLogout()}),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(10,"ion-content",0),g.TgZ(11,"ion-grid",8),g.TgZ(12,"ion-row"),g.YNc(13,p,12,7,"ion-col",9),g.qZA(),g.qZA(),g._UZ(14,"hr"),g.qZA()),2&t&&(g.xp6(7),g.Q6J("ngForOf",o.userExchanges),g.xp6(6),g.Q6J("ngForOf",o.oBotList))},directives:[s.Gu,s.sr,s.wd,s.Sm,i.sg,s.gu,s.W2,s.jY,s.Nd,n.YN,n.Kr,s.wI,s.PM,s.FN,s.tO,s.ho,s.w],styles:["ion-icon[_ngcontent-%COMP%]{margin:10px;font-size:large}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[r.Bz.forChild(f)],r.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[i.ez,n.UX,s.Pc,Z,c.JF]]}),t})()}}]);