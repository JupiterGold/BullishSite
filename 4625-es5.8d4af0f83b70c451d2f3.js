!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkjson_bot_ui=self.webpackChunkjson_bot_ui||[]).push([[4625],{14625:function(t,o,i){"use strict";i.r(o),i.d(o,{BotListPageModule:function(){return w}});var r=i(61116),c=i(11462),a=i(42693),s=i(96611),u=i(2782),g=i(64762),l=i(8619),h=i(6907),f=i(91779),d=i(63750);function p(e,t){if(1&e&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&e){var n=t.$implicit,o=l.oxw();l.Q6J("selected",n===o.selectedExchange)("value",n),l.xp6(1),l.hij(" ",n," ")}}function v(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"ion-col",11),l._UZ(1,"hr"),l.TgZ(2,"ion-card"),l.TgZ(3,"ion-card-content"),l.TgZ(4,"ion-card-subtitle"),l._UZ(5,"img",12),l.TgZ(6,"ion-toggle",13),l.NdJ("click",function(){var e=l.CHM(n).$implicit,t=l.oxw();return e.Enabled=!e.Enabled,t.onEnableDisableBot(e)}),l.qZA(),l.qZA(),l.TgZ(7,"ion-row",14),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().onEditBot(e)}),l.TgZ(8,"ion-col"),l._uU(9),l.qZA(),l.TgZ(10,"ion-col",15),l._uU(11),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var o=t.$implicit,i=l.oxw();l.Q6J("size",12),l.xp6(5),l.Q6J("src",i.getLogo(o),l.LSH),l.xp6(1),l.s9C("checked",o.Enabled),l.xp6(3),l.lnq("",o.A,"/",o.B," [",o.Strategy,"]"),l.xp6(2),l.hij(" Invest ",o.$," ")}}var m,Z,x=[{path:"",component:(m=function(){function t(n,o,i,r,c){e(this,t),this.http=n,this.oAPIService=o,this.router=i,this.oStorage=r,this.auth=c,this.userExchanges=["kucoin","lbank","aax"],this.selectedExchange=this.userExchanges[0],this.oBotList=[],this.bRemote=!0}return n(t,[{key:"ngOnInit",value:function(){}},{key:"onLogout",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.auth.logout(),e.next=3,this.router.navigateByUrl("");case 3:case"end":return e.stop()}},e,this)}))}},{key:"onCreateBot",value:function(){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.router.navigateByUrl("bot-strategy");case 2:case"end":return e.stop()}},e,this)}))}},{key:"onEditBot",value:function(e){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.router.navigateByUrl("bot-setup",{state:e});case 2:case"end":return t.stop()}},t,this)}))}},{key:"onEnableDisableBot",value:function(e){return(0,g.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oStorage.set(e.Exchange+"_"+e.Strategy+"_"+e.A+e.B,e),t.t0=this.bRemote,!t.t0){t.next=5;break}return t.next=5,this.oAPIService.send2ServerP("bot-config",!0,e);case 5:this.ionViewWillEnter();case 6:case"end":return t.stop()}},t,this)}))}},{key:"ionViewWillEnter",value:function(){var e=this;this.bRemote?this.onChangeOfExchange(this.selectedExchange):this.oStorage.getBots().then(function(t){e.oBotList=t})}},{key:"onChangeOfExchange",value:function(e){var t,n=this;console.log(e),this.oAPIService.send2ServerP("exchange-bot-config/"+(null===(t=e.target)||void 0===t?void 0:t.value),!1).then(function(e){return(0,g.mG)(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.oBotList=e;case 1:case"end":return t.stop()}},t,this)}))})}},{key:"onSearchCryptoPair",value:function(e){var t,n=this;console.log(e),this.oAPIService.send2ServerP("cryptopair-bot-config/"+(null===(t=e.target)||void 0===t?void 0:t.value),!1).then(function(e){return(0,g.mG)(n,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),this.oBotList=e;case 1:case"end":return t.stop()}},t,this)}))})}},{key:"getLogo",value:function(e){var t=e.Exchange;return"aax"==t?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA-cjwYdOQkpnvfr2gygRlocp8Od5R1LzmFRe3FSiW7u4VTppf":"kucoin"==t?"https://assets.staticimg.com/cms/media/1lB3PkckFDyfxz6VudCEACBeRRBi6sQQ7DDjz0yWM.svg":"lbank"==t?"https://www.lbank.info/fstatic/img/logo-03.svg":""}}]),t}(),m.\u0275fac=function(e){return new(e||m)(l.Y36(a.eN),l.Y36(h.D),l.Y36(u.F0),l.Y36(f.V),l.Y36(d.$))},m.\u0275cmp=l.Xpm({type:m,selectors:[["app-bot-list"]],decls:15,vars:2,consts:[["color","dark"],[1,"ion-text-capitalize"],["slot","end"],["type","text",3,"change"],["id","DropdownOptions",1,"form-control",3,"change"],[3,"selected","value",4,"ngFor","ngForOf"],["name","add",3,"click"],["name","exit",3,"click"],["fixed",""],["size-sm","6","size-md","4","size-lg","4",3,"size",4,"ngFor","ngForOf"],[3,"selected","value"],["size-sm","6","size-md","4","size-lg","4",3,"size"],["width","48","height","32",1,"card-img",3,"src"],[2,"float","right",3,"checked","click"],[3,"click"],["ion-align-items-end",""]],template:function(e,t){1&e&&(l.TgZ(0,"ion-header",0),l.TgZ(1,"ion-toolbar"),l.TgZ(2,"ion-title",1),l._uU(3,"Botsv1.0"),l.qZA(),l.TgZ(4,"ion-buttons",2),l.TgZ(5,"input",3),l.NdJ("change",function(e){return t.onSearchCryptoPair(e)}),l.qZA(),l.TgZ(6,"select",4),l.NdJ("change",function(e){return t.onChangeOfExchange(e)}),l.YNc(7,p,2,3,"option",5),l.qZA(),l.TgZ(8,"ion-icon",6),l.NdJ("click",function(){return t.onCreateBot()}),l.qZA(),l.TgZ(9,"ion-icon",7),l.NdJ("click",function(){return t.onLogout()}),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"ion-content",0),l.TgZ(11,"ion-grid",8),l.TgZ(12,"ion-row"),l.YNc(13,v,12,7,"ion-col",9),l.qZA(),l.qZA(),l._UZ(14,"hr"),l.qZA()),2&e&&(l.xp6(7),l.Q6J("ngForOf",t.userExchanges),l.xp6(6),l.Q6J("ngForOf",t.oBotList))},directives:[s.Gu,s.sr,s.wd,s.Sm,r.sg,s.gu,s.W2,s.jY,s.Nd,c.YN,c.Kr,s.wI,s.PM,s.FN,s.tO,s.ho,s.w],styles:["ion-icon[_ngcontent-%COMP%]{margin:10px;font-size:large}"]}),m)}],k=function(){var t=n(function t(){e(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[u.Bz.forChild(x)],u.Bz]}),t}(),w=((Z=n(function t(){e(this,t)})).\u0275fac=function(e){return new(e||Z)},Z.\u0275mod=l.oAB({type:Z}),Z.\u0275inj=l.cJS({imports:[[r.ez,c.UX,s.Pc,k,a.JF]]}),Z)}}])}();